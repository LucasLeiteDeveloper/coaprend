<ion-header class="subpage-header">
  <ion-toolbar class="content-container">
    <ion-back-button slot="start" icon="chevron-back-outline" aria-label="Voltar" color="dark" text=""></ion-back-button>
    <ion-title>Criar Sala</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <form class="grid-spacing-m">
    <ion-input
      type="text"
      placeholder="Digite aqui"
      label="Nome da Sala*"
      labelPlacement="stacked"
      [(ngModel)]="className"
      name="className"
      style="border-bottom: 1px solid gray;"
    ></ion-input>

    <!-- Input de arquivo escondido -->
    <input
      type="file"
      id="file-upload"
      style="display: none"
      (change)="setImage($event)"
    />

    <ion-item lines="none" style="
      --padding-bottom: 0;
      --padding-end: 0;
      --padding-start: 0;
      --padding-top: 0;
    ">
      <ion-label style="font-size: var(--text-m);">Imagem da sala</ion-label>
      <ion-button fill="clear" (click)="openFileDialog()">
        <ion-icon slot="icon-only" name="document-outline"></ion-icon>
      </ion-button>
    </ion-item>

    <!-- Tags (opcional) -->
    <ion-item lines="none" *ngIf="tags.length">
      <ion-label>Tags</ion-label>
      <ion-chip *ngFor="let t of tags; let i = index">
        {{ t }}
        <ion-icon name="close" (click)="removeTag(i)"></ion-icon>
      </ion-chip>
    </ion-item>

    <ion-item lines="none">
      <ion-input placeholder="Adicionar tag" [(ngModel)]="newTag" name="newTag"></ion-input>
      <ion-button slot="end" (click)="addTag()">+</ion-button>
    </ion-item>
  </form>
</ion-content>

<ion-fab
  vertical="bottom"
  horizontal="end"
  slot="fixed"
  [activated]="true"
  style="display: flex; align-items: end; gap: 8px;"
  (click)="createClass()"
>
  <div
    style="
      display: flex;
      justify-content: center;
      align-items: center;
      width: 48px;
      aspect-ratio: 1/1;
      background-color: var(--ion-color-primary);
      border-radius: 24px;
    "
  >
    <ion-icon name="add" style="font-size: 32px; color: white;"></ion-icon>
  </div>
</ion-fab>
